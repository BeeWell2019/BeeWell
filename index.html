<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="styleform.css">
		<link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
		<meta name="viewport" content="width=device-width, initial-scale=1">
	</head>

	<body>
		<div id="emptyDialog" class="dialogBox">
			Please fill in all values.
			<br></br>
			<button type="button" class="dialogButton" onclick="closeEmptyDialog()">OK</button>
		</div>

		<div id='db' ><img src="images/DialogBox1.png"></div>
	<div id='db1'><div id='inputdiv1'><input id='nameInput' type="text" name="quantity" min="1"> </div>
		<img src="images/NameDialog.png">
	</div>
		<div id='db2'><div id='inputdiv'><input id='waterpicker' type="number" name="quantity" min="1"> cups</div>
		<img src="images/WaterDialog.png">
	</div>
	<div id='db3'>
		<div id='inputdiv2'>
			<input id='hours' type="number" name="quantity" min="1"> hours
			<input id='bedtime' type="time"></div>
		<img src="images/SleepDialog.png"></div>
	<div id='db4'>
		<div id='inputdiv3'>
	<input id='meals' type="number" name="quantity" min="1"> meals
	</div>
		<img src="images/HungerDialog.png"></div>
	<div><button id='continuebtn' type='button'
		onclick='nextDialog()'>Continue</button></div>
	<div><button id='backbtn' type='button'
		onclick='prevDialog()'>Back</button></div>
	<div><button id='savebtn' type='button'
		onclick="goToHome()">Save</button></div>

	<script>

		function nextDialog() {
			localStorage.setItem('waterpicker', document.getElementById("waterpicker").value);
			localStorage.setItem('hours', document.getElementById("hours").value);
			localStorage.setItem('bedtime', document.getElementById("bedtime").value);
			var dbDisplay = getComputedStyle(db, null).display;
			var db1Display = getComputedStyle(db1, null).display;
			var db2Display = getComputedStyle(db2, null).display;
			var db3Display = getComputedStyle(db3, null).display;
			var db4Display = getComputedStyle(db4, null).display;
			var innerText = document.getElementById("continuebtn");

			if (db1Display == "none" && dbDisplay == "block") {
				document.getElementById("db").style.display = "none";
				document.getElementById("db1").style.display = "block";
				document.getElementById("backbtn").style.display = "block";
			}
			if (db2Display == "none" && db1Display == "block") {
				document.getElementById("db1").style.display = "none";
				document.getElementById("db2").style.display = "block";
				document.getElementById("backbtn").style.display = "block";
			}
			if (db2Display == "block" && db3Display == "none") {
				if (localStorage.getItem("waterpicker") == "") {
					document.getElementById("emptyDialog").style.display = "block";
				} else {
					document.getElementById("db2").style.display = "none";
					document.getElementById("db3").style.display = "block";
				}
			}
			if (db3Display == "block" && db4Display == "none") {
				if (localStorage.getItem("hours") == "" || localStorage.getItem("bedtime") == "") {
					document.getElementById("emptyDialog").style.display = "block";
				} else {
					document.getElementById("db3").style.display = "none";
					document.getElementById("db4").style.display = "block";
					document.getElementById("continuebtn").style.display = "none";
					document.getElementById("savebtn").style.display = "block";
				}
			}
		}

		function prevDialog() {
			var dbDisplay = getComputedStyle(db, null).display;
			var db1Display = getComputedStyle(db1, null).display;
			var db2Display = getComputedStyle(db2, null).display;
			var db3Display = getComputedStyle(db3, null).display;
			var db4Display = getComputedStyle(db4, null).display;

			if (db1Display == "block" && db2Display == "none") {
				document.getElementById("db").style.display = "block";
				document.getElementById("db1").style.display = "none";
				document.getElementById("backbtn").style.display = "none";
			}
			if (db2Display == "block" && db3Display == "none") {
				document.getElementById("db1").style.display = "block";
				document.getElementById("db2").style.display = "none";
				document.getElementById("backbtn").style.display = "none";
			}
			if (db3Display == "block" && db4Display == "none") {
				document.getElementById("db3").style.display = "none";
				document.getElementById("db2").style.display = "block";
			}
			if (db4Display == "block") {
				document.getElementById("db3").style.display = "block";
				document.getElementById("db4").style.display = "none";
				document.getElementById("savebtn").style.display = "none";
				document.getElementById("continuebtn").style.display = "block";
			}
		}

		function closeEmptyDialog() {
			document.getElementById("emptyDialog").style.display = "none";
		}

		function goToHome() {
			localStorage.setItem('meals', document.getElementById("meals").value);
			if (localStorage.getItem("meals") == "") {
				document.getElementById("emptyDialog").style.display = "block";
			} else {
			window.location = 'https://beewell2019.github.io/BeeWell/home';
			}
		}
	</script>

	</body>
</html>
